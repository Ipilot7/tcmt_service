openapi: 3.0.3
info:
  title: TCMT Service API
  version: 1.0.0
  description: API for Medical Equipment Management
paths:
  /api/device-types/:
    get:
      operationId: api_device_types_list
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DeviceType'
          description: ''
    post:
      operationId: api_device_types_create
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeviceType'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/DeviceType'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/DeviceType'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceType'
          description: ''
  /api/device-types/{id}/:
    get:
      operationId: api_device_types_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Device Type.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceType'
          description: ''
    put:
      operationId: api_device_types_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Device Type.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeviceType'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/DeviceType'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/DeviceType'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceType'
          description: ''
    patch:
      operationId: api_device_types_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Device Type.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedDeviceType'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedDeviceType'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedDeviceType'
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceType'
          description: ''
    delete:
      operationId: api_device_types_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Device Type.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '204':
          description: No response body
  /api/devices/:
    get:
      operationId: api_devices_list
      parameters:
      - in: query
        name: device_type
        schema:
          type: integer
      - in: query
        name: hospital
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      - in: query
        name: serial_number
        schema:
          type: string
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Device'
          description: ''
    post:
      operationId: api_devices_create
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Device'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Device'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Device'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Device'
          description: ''
  /api/devices/{id}/:
    get:
      operationId: api_devices_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Device.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Device'
          description: ''
    put:
      operationId: api_devices_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Device.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Device'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Device'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Device'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Device'
          description: ''
    patch:
      operationId: api_devices_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Device.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedDevice'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedDevice'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedDevice'
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Device'
          description: ''
    delete:
      operationId: api_devices_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Device.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '204':
          description: No response body
  /api/hospital-maintenances/:
    get:
      operationId: api_hospital_maintenances_list
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/HospitalMaintenance'
          description: ''
    post:
      operationId: api_hospital_maintenances_create
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HospitalMaintenance'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/HospitalMaintenance'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/HospitalMaintenance'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HospitalMaintenance'
          description: ''
  /api/hospital-maintenances/{id}/:
    get:
      operationId: api_hospital_maintenances_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Hospital Maintenance.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HospitalMaintenance'
          description: ''
    put:
      operationId: api_hospital_maintenances_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Hospital Maintenance.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HospitalMaintenance'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/HospitalMaintenance'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/HospitalMaintenance'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HospitalMaintenance'
          description: ''
    patch:
      operationId: api_hospital_maintenances_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Hospital Maintenance.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedHospitalMaintenance'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedHospitalMaintenance'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedHospitalMaintenance'
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HospitalMaintenance'
          description: ''
    delete:
      operationId: api_hospital_maintenances_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Hospital Maintenance.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '204':
          description: No response body
  /api/hospitals/:
    get:
      operationId: api_hospitals_list
      parameters:
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Hospital'
          description: ''
    post:
      operationId: api_hospitals_create
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Hospital'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Hospital'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Hospital'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Hospital'
          description: ''
  /api/hospitals/{id}/:
    get:
      operationId: api_hospitals_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Hospital.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Hospital'
          description: ''
    put:
      operationId: api_hospitals_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Hospital.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Hospital'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Hospital'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Hospital'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Hospital'
          description: ''
    patch:
      operationId: api_hospitals_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Hospital.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedHospital'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedHospital'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedHospital'
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Hospital'
          description: ''
    delete:
      operationId: api_hospitals_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Hospital.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '204':
          description: No response body
  /api/logout/:
    post:
      operationId: api_logout_create
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LogoutRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LogoutRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LogoutRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '205':
          description: No response body
  /api/permissions/:
    get:
      operationId: api_permissions_list
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Permission'
          description: ''
  /api/permissions/{id}/:
    get:
      operationId: api_permissions_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Permission.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Permission'
          description: ''
  /api/regions/:
    get:
      operationId: api_regions_list
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Region'
          description: ''
    post:
      operationId: api_regions_create
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Region'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Region'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Region'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Region'
          description: ''
  /api/regions/{id}/:
    get:
      operationId: api_regions_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Region.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Region'
          description: ''
    put:
      operationId: api_regions_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Region.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Region'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Region'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Region'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Region'
          description: ''
    patch:
      operationId: api_regions_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Region.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedRegion'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedRegion'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedRegion'
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Region'
          description: ''
    delete:
      operationId: api_regions_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Region.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '204':
          description: No response body
  /api/roles/:
    get:
      operationId: api_roles_list
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Role'
          description: ''
  /api/roles/{id}/:
    get:
      operationId: api_roles_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Role.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
          description: ''
  /api/statuses/:
    get:
      operationId: api_statuses_list
      description: ViewSet to list available status choices.
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/StatusListResponse'
          description: ''
  /api/tasks/:
    get:
      operationId: api_tasks_list
      parameters:
      - in: query
        name: created_at_after
        schema:
          type: string
          format: date
      - in: query
        name: created_at_before
        schema:
          type: string
          format: date
      - in: query
        name: device_type
        schema:
          type: integer
      - in: query
        name: hospital
        schema:
          type: integer
      - in: query
        name: responsible_person
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      - in: query
        name: status
        schema:
          type: string
          enum:
          - CN
          - CP
          - NW
          - OH
          - PD
        description: |-
          * `NW` - New
          * `PD` - Pending
          * `CP` - Completed
          * `CN` - Canceled
          * `OH` - On Hold
      - in: query
        name: task_date_after
        schema:
          type: string
          format: date
      - in: query
        name: task_date_before
        schema:
          type: string
          format: date
      - in: query
        name: task_number
        schema:
          type: string
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Task'
          description: ''
    post:
      operationId: api_tasks_create
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Task'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Task'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Task'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Task'
          description: ''
  /api/tasks/{id}/:
    get:
      operationId: api_tasks_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Task.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Task'
          description: ''
    put:
      operationId: api_tasks_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Task.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Task'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Task'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Task'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Task'
          description: ''
    patch:
      operationId: api_tasks_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Task.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedTask'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedTask'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedTask'
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Task'
          description: ''
    delete:
      operationId: api_tasks_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Task.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '204':
          description: No response body
  /api/tasks/analytics/:
    get:
      operationId: api_tasks_analytics_retrieve
      description: Эндпоинт для получения аналитики по задачам (статистика по статусам).
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskAnalyticsResponse'
          description: ''
  /api/tasks/export_excel/:
    get:
      operationId: api_tasks_export_excel_retrieve
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/tasks/import_excel/:
    post:
      operationId: api_tasks_import_excel_create
      tags:
      - api
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TaskImport'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ImportResponse'
          description: ''
  /api/token/:
    post:
      operationId: api_token_create
      description: |-
        Takes a set of user credentials and returns an access and refresh JSON web
        token pair to prove the authentication of those credentials.
      summary: Получение токена (Login)
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenObtainPair'
          description: ''
  /api/token/refresh/:
    post:
      operationId: api_token_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
  /api/trip-results/:
    get:
      operationId: api_trip_results_list
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TripResult'
          description: ''
    post:
      operationId: api_trip_results_create
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TripResult'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TripResult'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TripResult'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TripResult'
          description: ''
  /api/trip-results/{trip}/:
    get:
      operationId: api_trip_results_retrieve
      parameters:
      - in: path
        name: trip
        schema:
          type: integer
        description: A unique value identifying this Trip Result.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TripResult'
          description: ''
    put:
      operationId: api_trip_results_update
      parameters:
      - in: path
        name: trip
        schema:
          type: integer
        description: A unique value identifying this Trip Result.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TripResult'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TripResult'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TripResult'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TripResult'
          description: ''
    patch:
      operationId: api_trip_results_partial_update
      parameters:
      - in: path
        name: trip
        schema:
          type: integer
        description: A unique value identifying this Trip Result.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedTripResult'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedTripResult'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedTripResult'
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TripResult'
          description: ''
    delete:
      operationId: api_trip_results_destroy
      parameters:
      - in: path
        name: trip
        schema:
          type: integer
        description: A unique value identifying this Trip Result.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '204':
          description: No response body
  /api/trips/:
    get:
      operationId: api_trips_list
      parameters:
      - in: query
        name: created_at_after
        schema:
          type: string
          format: date
      - in: query
        name: created_at_before
        schema:
          type: string
          format: date
      - in: query
        name: device_type
        schema:
          type: integer
      - in: query
        name: hospital
        schema:
          type: integer
      - in: query
        name: order_number
        schema:
          type: string
      - in: query
        name: responsible_person
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      - in: query
        name: status
        schema:
          type: string
          enum:
          - CN
          - CP
          - NW
          - OH
          - PD
        description: |-
          * `NW` - New
          * `PD` - Pending
          * `CP` - Completed
          * `CN` - Canceled
          * `OH` - On Hold
      - in: query
        name: task_number
        schema:
          type: string
      - in: query
        name: trip_date_after
        schema:
          type: string
          format: date
      - in: query
        name: trip_date_before
        schema:
          type: string
          format: date
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Trip'
          description: ''
    post:
      operationId: api_trips_create
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Trip'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Trip'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Trip'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Trip'
          description: ''
  /api/trips/{id}/:
    get:
      operationId: api_trips_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Trip.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Trip'
          description: ''
    put:
      operationId: api_trips_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Trip.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Trip'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Trip'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Trip'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Trip'
          description: ''
    patch:
      operationId: api_trips_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Trip.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedTrip'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedTrip'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedTrip'
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Trip'
          description: ''
    delete:
      operationId: api_trips_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Trip.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '204':
          description: No response body
  /api/trips/export_excel/:
    get:
      operationId: api_trips_export_excel_retrieve
      tags:
      - api
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/trips/import_excel/:
    post:
      operationId: api_trips_import_excel_create
      tags:
      - api
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TripImport'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ImportResponse'
          description: ''
  /api/users/:
    get:
      operationId: api_users_list
      parameters:
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - api
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
          description: ''
    post:
      operationId: api_users_create
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/User'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/User'
        required: true
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/users/{id}/:
    get:
      operationId: api_users_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this User.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    put:
      operationId: api_users_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this User.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/User'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/User'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    patch:
      operationId: api_users_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this User.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUser'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUser'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUser'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    delete:
      operationId: api_users_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this User.
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/users/me/:
    get:
      operationId: api_users_me_retrieve
      tags:
      - api
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /token/:
    post:
      operationId: token_create
      description: |-
        Takes a set of user credentials and returns an access and refresh JSON web
        token pair to prove the authentication of those credentials.
      summary: Получение токена (Login)
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenObtainPair'
          description: ''
  /token/refresh/:
    post:
      operationId: token_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
      - token
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
components:
  schemas:
    Device:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        serial_number:
          type: string
          maxLength: 255
        hospital:
          type: integer
          nullable: true
        device_type:
          type: integer
        device_type_info:
          allOf:
          - $ref: '#/components/schemas/DeviceType'
          readOnly: true
      required:
      - device_type
      - device_type_info
      - id
      - serial_number
    DeviceType:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
      required:
      - id
      - name
    Hospital:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
        lat:
          type: string
          format: decimal
          pattern: ^-?\d{0,6}(?:\.\d{0,2})?$
        long:
          type: string
          format: decimal
          pattern: ^-?\d{0,6}(?:\.\d{0,2})?$
        region:
          type: integer
        region_info:
          allOf:
          - $ref: '#/components/schemas/Region'
          readOnly: true
      required:
      - id
      - lat
      - long
      - name
      - region
      - region_info
    HospitalMaintenance:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        hospital:
          type: integer
        hospital_info:
          allOf:
          - $ref: '#/components/schemas/Hospital'
          readOnly: true
        maintenance_date:
          type: string
          format: date
      required:
      - hospital
      - hospital_info
      - id
      - maintenance_date
    ImportResponse:
      type: object
      properties:
        count:
          type: integer
      required:
      - count
    LogoutRequest:
      type: object
      properties:
        refresh:
          type: string
      required:
      - refresh
    PatchedDevice:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        serial_number:
          type: string
          maxLength: 255
        hospital:
          type: integer
          nullable: true
        device_type:
          type: integer
        device_type_info:
          allOf:
          - $ref: '#/components/schemas/DeviceType'
          readOnly: true
    PatchedDeviceType:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
    PatchedHospital:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
        lat:
          type: string
          format: decimal
          pattern: ^-?\d{0,6}(?:\.\d{0,2})?$
        long:
          type: string
          format: decimal
          pattern: ^-?\d{0,6}(?:\.\d{0,2})?$
        region:
          type: integer
        region_info:
          allOf:
          - $ref: '#/components/schemas/Region'
          readOnly: true
    PatchedHospitalMaintenance:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        hospital:
          type: integer
        hospital_info:
          allOf:
          - $ref: '#/components/schemas/Hospital'
          readOnly: true
        maintenance_date:
          type: string
          format: date
    PatchedRegion:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
    PatchedTask:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        hospital:
          type: integer
        device_type:
          type: integer
        task_number:
          type: string
          readOnly: true
        description:
          type: string
        status:
          $ref: '#/components/schemas/StatusEnum'
        status_display:
          type: string
          readOnly: true
        responsible_person:
          type: integer
          nullable: true
        task_date:
          type: string
          format: date
          nullable: true
        created_at:
          type: string
          format: date
          readOnly: true
    PatchedTrip:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        hospital:
          type: integer
        device_type:
          type: integer
        task_number:
          type: string
          readOnly: true
        description:
          type: string
        contact_phone:
          type: string
          maxLength: 20
        trip_date:
          type: string
          format: date
          nullable: true
        order_number:
          type: string
          nullable: true
          maxLength: 255
        status:
          $ref: '#/components/schemas/StatusEnum'
        status_display:
          type: string
          readOnly: true
        responsible_person:
          type: integer
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
    PatchedTripResult:
      type: object
      properties:
        trip:
          type: integer
        result_info:
          type: string
    PatchedUser:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        fullname:
          type: string
          maxLength: 255
        psn:
          type: string
          maxLength: 255
        login:
          type: string
          maxLength: 255
        password:
          type: string
          writeOnly: true
          maxLength: 128
        role_ids:
          type: array
          items:
            type: integer
            writeOnly: true
          writeOnly: true
        roles:
          type: array
          items:
            $ref: '#/components/schemas/RoleSimple'
          readOnly: true
    Permission:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
        roles:
          type: array
          items:
            $ref: '#/components/schemas/Role'
          readOnly: true
      required:
      - id
      - name
      - roles
    Region:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
      required:
      - id
      - name
    Role:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
        users:
          type: array
          items:
            $ref: '#/components/schemas/User'
          readOnly: true
      required:
      - id
      - name
      - users
    RoleSimple:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
      required:
      - id
      - name
    StatusBreakdown:
      type: object
      properties:
        id:
          type: string
        label:
          type: string
        count:
          type: integer
        color:
          type: string
      required:
      - color
      - count
      - id
      - label
    StatusEnum:
      enum:
      - NW
      - PD
      - CP
      - CN
      - OH
      type: string
      description: |-
        * `NW` - New
        * `PD` - Pending
        * `CP` - Completed
        * `CN` - Canceled
        * `OH` - On Hold
    StatusListResponse:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
      required:
      - id
      - name
    Task:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        hospital:
          type: integer
        device_type:
          type: integer
        task_number:
          type: string
          readOnly: true
        description:
          type: string
        status:
          $ref: '#/components/schemas/StatusEnum'
        status_display:
          type: string
          readOnly: true
        responsible_person:
          type: integer
          nullable: true
        task_date:
          type: string
          format: date
          nullable: true
        created_at:
          type: string
          format: date
          readOnly: true
      required:
      - created_at
      - description
      - device_type
      - hospital
      - id
      - status_display
      - task_number
    TaskAnalyticsResponse:
      type: object
      properties:
        total:
          type: integer
        breakdown:
          type: array
          items:
            $ref: '#/components/schemas/StatusBreakdown'
      required:
      - breakdown
      - total
    TaskImport:
      type: object
      properties:
        file:
          type: string
          format: uri
      required:
      - file
    TokenObtainPair:
      type: object
      properties:
        login:
          type: string
          writeOnly: true
        password:
          type: string
          writeOnly: true
        access:
          type: string
          readOnly: true
        refresh:
          type: string
          readOnly: true
      required:
      - access
      - login
      - password
      - refresh
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
        refresh:
          type: string
          writeOnly: true
      required:
      - access
      - refresh
    Trip:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        hospital:
          type: integer
        device_type:
          type: integer
        task_number:
          type: string
          readOnly: true
        description:
          type: string
        contact_phone:
          type: string
          maxLength: 20
        trip_date:
          type: string
          format: date
          nullable: true
        order_number:
          type: string
          nullable: true
          maxLength: 255
        status:
          $ref: '#/components/schemas/StatusEnum'
        status_display:
          type: string
          readOnly: true
        responsible_person:
          type: integer
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - contact_phone
      - created_at
      - description
      - device_type
      - hospital
      - id
      - status_display
      - task_number
    TripImport:
      type: object
      properties:
        file:
          type: string
          format: uri
      required:
      - file
    TripResult:
      type: object
      properties:
        trip:
          type: integer
        result_info:
          type: string
      required:
      - result_info
      - trip
    User:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        fullname:
          type: string
          maxLength: 255
        psn:
          type: string
          maxLength: 255
        login:
          type: string
          maxLength: 255
        password:
          type: string
          writeOnly: true
          maxLength: 128
        role_ids:
          type: array
          items:
            type: integer
            writeOnly: true
          writeOnly: true
        roles:
          type: array
          items:
            $ref: '#/components/schemas/RoleSimple'
          readOnly: true
      required:
      - fullname
      - id
      - login
      - password
      - psn
      - roles
  securitySchemes:
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
