{% extends 'base.html' %}
{% load i18n %}

{% block content %}
<div class="glass-container" style="max-width: 900px; margin: 0 auto;">
    <div style="display: flex; justify-content: space-between; align-items: start;">
        <div>
            <h2 style="color: white; margin: 0;">{% trans "Trip" %} {{ trip.request_number }}</h2>
            <p style="color: rgba(255,255,255,0.7); margin-top: 5px;">{% trans "from" %} {{ trip.created_at|date:"d.m.Y"
                }}</p>
        </div>
        <div style="text-align: right;">
            <span style="background: white; color: #333; padding: 5px 10px; border-radius: 15px; font-weight: bold;">
                {{ trip.status.name }}
            </span>
            {% if trip.order_number %}
            <div style="margin-top: 5px; color: rgba(255,255,255,0.8);">{% trans "Order:" %} {{ trip.order_number }}
            </div>
            {% endif %}
        </div>
    </div>

    <hr style="border-color: rgba(255,255,255,0.2); margin: 20px 0;">

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
        <!-- Location & Equipment -->
        <div>
            <h4 style="color: rgba(255,255,255,0.7); margin-bottom: 10px;">{% trans "Object" %}</h4>
            <p><strong>{% trans "Region:" %}</strong> {{ trip.region.name }}</p>
            <p><strong>{% trans "Institution:" %}</strong> {{ trip.institution.name }}</p>
            <p><strong>{% trans "Equipment:" %}</strong> {{ trip.equipment_type.name }}</p>
            <p><strong>{% trans "Object Contact:" %}</strong> {{ trip.contact_phone }}</p>
        </div>

        <!-- People -->
        <div>
            <h4 style="color: rgba(255,255,255,0.7); margin-bottom: 10px;">{% trans "Participants" %}</h4>
            <p><strong>{% trans "Responsible:" %}</strong> {{ trip.responsible.full_name }}</p>
            <div style="margin-top: 10px; padding: 10px; background: rgba(255,255,255,0.1); border-radius: 5px;">
                <p style="margin: 0; font-size: 0.9em; opacity: 0.8;">{% trans "Meeter:" %}</p>
                <p style="margin: 5px 0;"><strong>{{ trip.escort_name }}</strong></p>
                <p style="margin: 0;">{{ trip.escort_phone }}</p>
            </div>
        </div>
    </div>

    <!-- Descriptions -->
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
        <div>
            <h4 style="color: rgba(255,255,255,0.7); margin-bottom: 10px;">{% trans "Reason / Task" %}</h4>
            <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 5px;">
                {{ trip.description|linebreaks }}
            </div>
        </div>
        <div>
            <h4 style="color: rgba(255,255,255,0.7); margin-bottom: 10px;">{% trans "Result" %}</h4>
            <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 5px; min-height: 50px;">
                {{ trip.result_info|linebreaks|default:"-" }}
            </div>
        </div>
    </div>

    <div style="margin-top: 30px; text-align: right;">
        <a href="{% url 'trips:list' %}" class="btn-primary" style="text-decoration: none;">{% trans "Back to list"
            %}</a>
        {% if user.role != 'user' %}
        <a href="{% url 'trips:update' trip.pk %}" class="btn-primary"
            style="text-decoration: none; margin-left: 10px;">{% trans "Edit" %}</a>
        {% endif %}
    </div>
</div>
{% endblock %}