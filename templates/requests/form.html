{% extends 'base.html' %}
{% load i18n %}

{% block content %}
<div class="glass-container" style="max-width: 800px; margin: 0 auto;">
    <h2 style="color: black; border-bottom: 1px solid rgba(0,0,0,0.1); padding-bottom: 10px;">
        {% if form.instance.pk %}
        {% trans "Edit Request" %} {{ form.instance.request_number }}
        {% else %}
        {% trans "New Request" %}
        {% endif %}
    </h2>

    <form method="post">
        {% csrf_token %}

        {% if form.non_field_errors %}
        <div
            style="color: #dc3545; background-color: #f8d7da; border: 1px solid #f5c6cb; padding: 10px; border-radius: 4px; margin-bottom: 20px;">
            {{ form.non_field_errors }}
        </div>
        {% endif %}

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div>
                <label>{% trans "Region" %}</label>
                {{ form.region }}

                <label>{% trans "Institution" %}</label>
                {{ form.institution }}

                <label>{% trans "Equipment Type" %}</label>
                {{ form.equipment_type }}

                <label>{% trans "Contact Phone" %}</label>
                {{ form.contact_phone }}
            </div>

            <div>
                <label>{% trans "Responsible" %}</label>
                {{ form.responsible }}

                <label>{% trans "Status" %}</label>
                {{ form.status }}

                <label>{% trans "Date" %}</label>
                {% if 'created_at' in form.fields %}
                {{ form.created_at }}
                {% else %}
                <input type="text" value="{{ form.instance.created_at|date:'d.m.Y' }}" disabled>
                {% endif %}
            </div>
        </div>

        <div style="margin-top: 10px;">
            <label>{% trans "Problem Description" %}</label>
            {{ form.description }}
        </div>

        <div style="margin-top: 20px; text-align: right;">
            <a href="{% url 'requests:list' %}" class="btn-primary"
                style="background-color: #6c757d; border-color: #6c757d; margin-right: 10px;">
                {% trans "Cancel" %}
            </a>
            <button type="submit" class="btn-primary">{% trans "Save" %}</button>
        </div>
    </form>
</div>
{% endblock %}